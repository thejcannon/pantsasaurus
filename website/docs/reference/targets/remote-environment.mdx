---
title: remote_environment
---

---

Configuration of a remote execution environment used for building your code.

Environment configuration includes platform properties and a fallback environment, as well as environment-aware options (such as environment variables and search paths) used by Pants to execute processes in this remote environment.

Note that you must also configure remote execution with the global options like `remote_execution` and `remote_execution_address`.

To use this environment, map this target's address with a memorable name in `[environments-preview].names`. You can then consume this environment by specifying the name in the `environment` field defined on other targets.

Often, it is only necessary to have a single `remote_environment` target for your repository, but it can be useful to have >1 so that you can set different `extra_platform_properties`. For example, with some servers, you could use this to configure a different Docker image per environment.

Backend: <span style="color: purple"><code>pants.core</code></span>

## <code>apache_thrift_thrift_search_paths</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.codegen.thrift.apache.python</code>
</span>

Overrides the default value from the option `[apache-thrift].thrift_search_paths` when this environment target is active.

## <code>cache_binary_discovery</code>

<span style="color: purple">
  type: <code>bool</code>
</span>
<span style="color: green">
  default: <code>False</code>
</span>

If true, will cache system binary discovery, e.g. finding Python interpreters.

When safe to do, it is preferable to set this option to `True` for faster performance by avoiding wasted work. Otherwise, Pants will search for system binaries whenever the Pants daemon is restarted.

However, it is only safe to set this to `True` if the remote execution environment has a stable environment, e.g. the server will not change versions of installed system binaries. Otherwise, you risk caching results that become stale when the server changes its environment, which may break your builds. With some remote execution servers, you can specify a Docker image to run with via the field `extra_platform_properties`; if you are able to specify what Docker image to use, and also use a pinned tag of the image, it is likely safe to set this field to true.

## <code>description</code>

<span style="color: purple">
  type: <code>str | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>

A human-readable description of the target.

Use `pants list --documented ::` to see all targets with descriptions.

## <code>docker_env_vars</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.docker</code>
</span>

Overrides the default value from the option `[docker].env_vars` when this environment target is active.

## <code>docker_executable_search_paths</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.docker</code>
</span>

Overrides the default value from the option `[docker].executable_search_paths` when this environment target is active.

## <code>extra_platform_properties</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>()</code>
</span>

Platform properties to set on remote execution requests.

Format: `property=value`. Multiple values should be specified as multiple occurrences of this flag.

Pants itself may add additional platform properties.

## <code>fallback_environment</code>

<span style="color: purple">
  type: <code>str | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>

The environment to fallback to when remote execution is disabled via the global option `--remote-execution`.

Must be an environment name from the option `[environments-preview].names`, the special string `__local__` to use the relevant local environment, or the Python value `None` to error when remote execution is disabled.

Tip: if you are using a Docker image with your remote execution environment (usually enabled by setting the field `extra_platform_properties`), then it can be useful to fallback to an equivalent `docker_image` target so that you have a consistent execution environment.

## <code>go_generate_env_vars</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.go</code>
</span>

Overrides the default value from the option `[go-generate].env_vars` when this environment target is active.

## <code>golang_cgo_c_flags</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.go</code>
</span>

Overrides the default value from the option `[golang].cgo_c_flags` when this environment target is active.

## <code>golang_cgo_cxx_flags</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.go</code>
</span>

Overrides the default value from the option `[golang].cgo_cxx_flags` when this environment target is active.

## <code>golang_cgo_fortran_binary_name</code>

<span style="color: purple">
  type: <code>str | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.go</code>
</span>

Overrides the default value from the option `[golang].cgo_fortran_binary_name` when this environment target is active.

## <code>golang_cgo_fortran_flags</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.go</code>
</span>

Overrides the default value from the option `[golang].cgo_fortran_flags` when this environment target is active.

## <code>golang_cgo_gcc_binary_name</code>

<span style="color: purple">
  type: <code>str | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.go</code>
</span>

Overrides the default value from the option `[golang].cgo_gcc_binary_name` when this environment target is active.

## <code>golang_cgo_gxx_binary_name</code>

<span style="color: purple">
  type: <code>str | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.go</code>
</span>

Overrides the default value from the option `[golang].cgo_gxx_binary_name` when this environment target is active.

## <code>golang_cgo_linker_flags</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.go</code>
</span>

Overrides the default value from the option `[golang].cgo_linker_flags` when this environment target is active.

## <code>golang_cgo_tool_search_paths</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.go</code>
</span>

Overrides the default value from the option `[golang].cgo_tool_search_paths` when this environment target is active.

## <code>golang_external_linker_binary_name</code>

<span style="color: purple">
  type: <code>str | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.go</code>
</span>

Overrides the default value from the option `[golang].external_linker_binary_name` when this environment target is active.

## <code>golang_go_search_paths</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.go</code>
</span>

Overrides the default value from the option `[golang].go_search_paths` when this environment target is active.

## <code>golang_subprocess_env_vars</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.go</code>
</span>

Overrides the default value from the option `[golang].subprocess_env_vars` when this environment target is active.

## <code>jvm_global_options</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.java</code>
</span>

Overrides the default value from the option `[jvm].global_options` when this environment target is active.

## <code>nodejs_corepack_env_vars</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.openapi.lint.spectral</code>
</span>

Overrides the default value from the option `[nodejs].corepack_env_vars` when this environment target is active.

## <code>nodejs_executable_search_paths</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.openapi.lint.spectral</code>
</span>

Overrides the default value from the option `[nodejs].executable_search_paths` when this environment target is active.

## <code>nodejs_search_path</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.experimental.openapi.lint.spectral</code>
</span>

Overrides the default value from the option `[nodejs].search_path` when this environment target is active.

## <code>pex_executable_search_paths</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.core</code>
</span>

Overrides the default value from the option `[pex].executable_search_paths` when this environment target is active.

## <code>platform</code>

<span style="color: purple">
  type:{" "}
  <code>
    'linux_arm64' | 'linux_x86_64' | 'macos_arm64' | 'macos_x86_64' | None
  </code>
</span>
<span style="color: green">
  default: <code>&#x27;linux&lowbar;x86&lowbar;64&#x27;</code>
</span>

The platform used by the remote execution environment.

## <code>python_bootstrap_names</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.core</code>
</span>

Overrides the default value from the option `[python-bootstrap].names` when this environment target is active.

## <code>python_bootstrap_search_path</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.core</code>
</span>

Overrides the default value from the option `[python-bootstrap].search_path` when this environment target is active.

## <code>python_native_code_cpp_flags</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.core</code>
</span>

Overrides the default value from the option `[python-native-code].cpp_flags` when this environment target is active.

## <code>python_native_code_ld_flags</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.core</code>
</span>

Overrides the default value from the option `[python-native-code].ld_flags` when this environment target is active.

## <code>shell_setup_executable_search_paths</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.backend.shell</code>
</span>

Overrides the default value from the option `[shell-setup].executable_search_paths` when this environment target is active.

## <code>subprocess_environment_env_vars</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.core</code>
</span>

Overrides the default value from the option `[subprocess-environment].env_vars` when this environment target is active.

## <code>tags</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>

Arbitrary strings to describe a target.

For example, you may tag some test targets with 'integration_test' so that you could run `pants --tag='integration_test' test ::` to only run on targets with that tag.

## <code>test_extra_env_vars</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>
backend: <span style="color: green">
  <code>pants.core</code>
</span>

Overrides the default value from the option `[test].extra_env_vars` when this environment target is active.
