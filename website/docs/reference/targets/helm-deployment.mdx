---
title: helm_deployment
---

---

A Helm chart deployment.

Backend: <span style="color: purple"><code>pants.backend.experimental.helm</code></span>

## <code>chart</code>

<span style="color: purple">
  type: <code>str | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>

The address of the `helm_chart` or `helm_artifact` that will be used for this deployment.

## <code>dependencies</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>

Addresses to other targets that this target depends on, e.g. `['helloworld/subdir:lib', 'helloworld/main.py:lib', '3rdparty:reqs#django']`.

This augments any dependencies inferred by Pants, such as by analyzing your imports. Use `pants dependencies` or `pants peek` on this target to get the final result.

See [Targets and BUILD files](doc:targets) for more about how addresses are formed, including for generated targets. You can also run `pants list ::` to find all addresses in your project, or `pants list dir` to find all addresses defined in that directory.

If the target is in the same BUILD file, you can leave off the BUILD file path, e.g. `:tgt` instead of `helloworld/subdir:tgt`. For generated first-party addresses, use `./` for the file path, e.g. `./main.py:tgt`; for all other generated targets, use `:tgt#generated_name`.

You may exclude dependencies by prefixing with `!`, e.g. `['!helloworld/subdir:lib', '!./sibling.txt']`. Ignores are intended for false positives with dependency inference; otherwise, simply leave off the dependency from the BUILD file.

## <code>description</code>

<span style="color: purple">
  type: <code>str | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>

A human-readable description of the target.

Use `pants list --documented ::` to see all targets with descriptions.

## <code>enable_dns</code>

<span style="color: purple">
  type: <code>bool</code>
</span>
<span style="color: green">
  default: <code>False</code>
</span>

Enables DNS lookups when using the `getHostByName` template function.

## <code>namespace</code>

<span style="color: purple">
  type: <code>str | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>

Kubernetes namespace for the given deployment.

## <code>no_hooks</code>

<span style="color: purple">
  type: <code>bool</code>
</span>
<span style="color: green">
  default: <code>False</code>
</span>

If true, none of the lifecycle hooks of the given chart will be included in the deployment.

## <code>post_renderers</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>

List of runnable targets to be used to post-process the helm chart after being rendered by Helm.

This is equivalent to the same post-renderer feature already available in Helm with the difference that this supports a list of executables instead of a single one.

When more than one post-renderer is given, they will be combined into a single one in which the input of each of them would be output of the previous one.

## <code>release_name</code>

<span style="color: purple">
  type: <code>str | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>

Name of the release used in the deployment. If not set, the target name will be used instead.

## <code>skip_crds</code>

<span style="color: purple">
  type: <code>bool</code>
</span>
<span style="color: green">
  default: <code>False</code>
</span>

If true, then does not deploy the Custom Resource Definitions that are defined in the chart.

## <code>sources</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>(&#x27;&ast;.yaml&#x27;, &#x27;&ast;.yml&#x27;)</code>
</span>

Helm configuration files for a given deployment.

## <code>tags</code>

<span style="color: purple">
  type: <code>Iterable[str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>

Arbitrary strings to describe a target.

For example, you may tag some test targets with 'integration_test' so that you could run `pants --tag='integration_test' test ::` to only run on targets with that tag.

## <code>timeout</code>

<span style="color: purple">
  type: <code>int | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>

Timeout in seconds when running a Helm deployment.

## <code>values</code>

<span style="color: purple">
  type: <code>Dict[str, str] | None</code>
</span>
<span style="color: green">
  default: <code>None</code>
</span>

Individual values to use when rendering a given deployment.

Value names should be defined using dot-syntax as in the following example:

    helm_deployment(
        values={
            "nameOverride": "my_custom_name",
            "image.pullPolicy": "Always",
        },
    )

Values can be dynamically calculated using interpolation as shown in the following example:

    helm_deployment(
        values={
            "configmap.deployedAt": f"{env('DEPLOY_TIME')}",
        },
    )

Check the Helm backend documentation on what are the options available and its caveats when making usage of dynamic values in your deployments.
