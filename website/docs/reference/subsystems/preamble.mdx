---
title: preamble
---

---

Formats files with a preamble, with the preamble looked up based on path.

This is useful for things such as copyright headers or shebang lines.

Pants substitutes the following identifiers (following Python's `string.Template` substitutions): - $year: The current year (only used when actually writing the year to the file).

Backend: <span style="color: purple"><code>pants.backend.tools.preamble</code></span>
Config section: <span style="color: purple"><code>[preamble]</code></span>

## Basic options

<div style="color: purple">

### `skip`

  <code>--[no-]preamble-skip</code><br>
  <code>PANTS_PREAMBLE_SKIP</code><br>
</div>
<div style="padding-left: 2em;">
<span style="color: green">default: <code>False</code></span>

<br>

If true, don't use preamble when running `pants fmt`.

</div>
<br>

<div style="color: purple">

### `template_by_globs`

  <code>--preamble-template-by-globs=&quot;{'key1': val1, 'key2': val2, ...}&quot;</code><br>
  <code>PANTS_PREAMBLE_TEMPLATE_BY_GLOBS</code><br>
</div>
<div style="padding-left: 2em;">
<span style="color: green">default: <code>{}</code></span>

<br>

Which preamble template to use based on the path globs (relative to the build root).

Example:

    {
        '*.rs': '// Copyright (c) $year\n// Line 2\n'
        '*.py:!__init__.py': '# Copyright (c) $year\n# Line 2\n',
    }

It might be helpful to load this config from a JSON or YAML file. To do that, set `[preamble].config = '@path/to/config.yaml'`, for example.

</div>
<br>

## Advanced options

None

## Deprecated options

None
