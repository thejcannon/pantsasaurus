---
title: python-repos
---

import Option from "@site/src/components/reference/Option";
import styles from "@site/src/components/reference/styles.module.css";

---

External Python code repositories, such as PyPI.

These options may be used to point to custom package indexes when resolving requirements.

Backend: <span style={{ color: "var(--ifm-color-primary)" }}>`pants.core`</span>

Config section: <span style={{ color: "var(--ifm-color-primary)" }}>`[python-repos]`</span>

## Basic options

<span className={styles.options}>

### `find_links`

<Option
  cli_repr={`--python-repos-find-links="['<str>', '<str>', ...]"`}
  env_repr='PANTS_PYTHON_REPOS_FIND_LINKS'
  default_repr='[]'
>
  

URLs and/or file paths corresponding to pip's `--find-links` option.

Per [pip's documentation](https\://pip.pypa.io/en/stable/cli/pip_wheel/?highlight=find%20links#cmdoption-f), URLs should be to HTML files with links to `.whl` and/or sdist files. Local paths must be absolute, and can either be to an HTML file with links or to a directory with `.whl` and/or sdist files, e.g. `file\:///Users/pantsbuild/prebuilt_wheels`.

For local paths, you may want to use the option `[python-repos].path_mappings`.

</Option>


## Advanced options

### `indexes`

<Option
  cli_repr={`--python-repos-indexes="['<str>', '<str>', ...]"`}
  env_repr='PANTS_PYTHON_REPOS_INDEXES'
>
  

URLs of [PEP-503 compatible](https\://peps.python.org/pep-0503/) code repository indexes to look for requirements.

If set to an empty list, then Pex will use no indexes (meaning it will not use PyPI).

</Option>


### `path_mappings`

<Option
  cli_repr={`--python-repos-path-mappings="['<str>', '<str>', ...]"`}
  env_repr='PANTS_PYTHON_REPOS_PATH_MAPPINGS'
  default_repr='[]'
>
  

Mappings to facilitate using local Python requirements when the absolute file paths are different on different users' machines. For example, the path `file\:///Users/pantsbuild/prebuilt_wheels/django-3.1.1-py3-none-any.whl` could become `file\://$\{WHEELS_DIR}/django-3.1.1-py3-none-any.whl`, where each user can configure what `WHEELS_DIR` points to on their machine.

Expects values in the form `NAME|PATH`, e.g. `WHEELS_DIR|/Users/pantsbuild/prebuilt_wheels`. You can specify multiple entries in the list.

This feature is intended to be used with `[python-repos].find_links`, rather than PEP 440 direct reference requirements (see [Third-party dependencies](doc\:python-third-party-dependencies#local-requirements). `[python-repos].find_links` must be configured to a valid absolute path for the current machine.

Tip\: you can avoid each user needing to manually configure this option and `[python-repos].find_links` by using a common file location, along with Pants's interpolation support ([Options](doc\:options#config-file-interpolation). For example, in `pants.toml`, you could set both options to `%(buildroot)s/python_wheels` to point to the directory `python_wheels` in the root of your repository; or, use the path `%(env.HOME)s/pants_wheels` for the path `~/pants_wheels`. If you are not able to use a common path like this, then we recommend setting that each user set these options via a `.pants.rc` file ([Options](doc\:options#pantsrc-file).

Note\: Only takes effect if using Pex lockfiles, i.e. using the `generate-lockfiles` goal.

</Option>


## Deprecated options

### `repos`

<Option
  cli_repr={`--python-repos-repos="['<str>', '<str>', ...]"`}
  env_repr='PANTS_PYTHON_REPOS_REPOS'
  default_repr='[]'
  deprecated_version='3.0.0.dev0'
  deprecated_hint='A deprecated alias for `[python-repos].find_links`.'
>
  

URLs of code repositories to look for requirements. In Pip and Pex, this option corresponds to the `--find-links` option.

</Option>


</span>